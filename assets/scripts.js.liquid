document.getElementById('AddToCart').addEventListener('click', async (e) => {
  e.preventDefault(); // Prevent the default form submission behavior

  // Submit form with AJAX
  const form = document.getElementById('AddToCartForm');
  if (form) {
    try {
      const formData = new FormData(form);
      const response = await fetch('/cart/add.js', { // Use '/cart/add.js' to add to cart via AJAX
        method: 'POST',
        body: formData,
      });

      if (response.ok) {
        // Handle a successful response here, if needed

        // Open cart modal after a successful response
        const cartModal = document.querySelector('.cart-modal');
        if (cartModal) {
          cartModal.classList.add('open');
        }
      } else {
        // Handle errors here
        console.error('Error adding to cart');
      }
    } catch (error) {
      console.error('An error occurred:', error);
    }
  }
});
